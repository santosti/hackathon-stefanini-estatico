!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/animations"),require("@angular/platform-browser"),require("@angular/platform-browser/animations"),require("@angular/core"),require("rxjs/operators"),require("rxjs")):"function"==typeof define&&define.amd?define("angular-bootstrap-toasts",["exports","@angular/animations","@angular/platform-browser","@angular/platform-browser/animations","@angular/core","rxjs/operators","rxjs"],e):e(t["angular-bootstrap-toasts"]={},t.ng.animations,t.ng.platformBrowser,t.ng.platformBrowser.animations,t.ng.core,t.rxjs.operators,t.rxjs)}(this,function(t,e,o,n,r,s,i){"use strict";function f(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,s=o.call(t),i=[];try{for(;(void 0===e||0<e--)&&!(n=s.next()).done;)i.push(n.value)}catch(a){r={error:a}}finally{try{n&&!n.done&&(o=s["return"])&&o.call(s)}finally{if(r)throw r.error}}return i}var a=function(){function t(t,e){this.confirmationResult=new i.Subject,this.id=e.id,this.type=e.type,this.text=t.text,this.title=t.title,this.moment=t.moment,this.duration=t.duration,this.isProgressLineEnabled=t.showProgressLine,this.isDurationPausedByMouse=t.pauseDurationOnMouseEnter,this.isClosableByMouseClick=t.closeByClick,this.iconClass=t.iconClass,this.progressLineClass=t.progressLineClass,this.titleClass=t.titleClass,this.bodyClass=t.bodyClass,this.toastClass=t.toastClass,this.toolbarClass=t.toolbarClass,this.closeButtonClass=t.closeButtonClass,this.toolbarItems=t.toolbarItems}return Object.defineProperty(t.prototype,"ConfirmationResult$",{get:function(){return this.confirmationResult.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Id",{get:function(){return this.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Type",{get:function(){return this.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Title",{get:function(){return this.title},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Text",{get:function(){return this.text},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Moment",{get:function(){return this.moment},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Duration",{get:function(){return this.duration},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ToolbarItems",{get:function(){return this.toolbarItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsProgressLineEnabled",{get:function(){return this.isProgressLineEnabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsDurationPausedByMouse",{get:function(){return this.isDurationPausedByMouse},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsClosableByMouseClick",{get:function(){return this.isClosableByMouseClick},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IconClass",{get:function(){return this.iconClass},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CloseButtonClass",{get:function(){return this.closeButtonClass},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ProgressLineClass",{get:function(){return this.progressLineClass},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TitleClass",{get:function(){return this.titleClass},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BodyClass",{get:function(){return this.bodyClass},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ToolbarClass",{get:function(){return this.toolbarClass},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ToastClass",{get:function(){return this.toastClass},enumerable:!0,configurable:!0}),t.prototype.Close=function(t){this.confirmationResult.next(t||!1)},t}(),l=function(){function t(){this.toastsList=new i.BehaviorSubject([]),this.defaultTitle="Title",this.defaultText="Message",this.defaultDuration=5e3,this.minDuration=300,this.maxMessageId=1}return Object.defineProperty(t.prototype,"ToastsList$",{get:function(){return this.toastsList.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DefaultTitle",{get:function(){return this.defaultTitle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DefaultText",{get:function(){return this.defaultText},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DefaultDuration",{get:function(){return this.defaultDuration},enumerable:!0,configurable:!0}),t.prototype.showSimpleToast=function(t){var e={id:this.maxMessageId,type:"simple"};return this.createToast(t,e)},t.prototype.showConfirmToast=function(t){var e={id:this.maxMessageId,type:"confirm"};return this.createToast(t,e)},t.prototype.changeDefaultTitle=function(t){var e=this.validateTitle(t);e&&(this.defaultTitle=e)},t.prototype.changeDefaultText=function(t){var e=this.validateText(t);e&&(this.defaultText=e)},t.prototype.changeDefaultDuration=function(t){this.validateDuration(t)&&(this.defaultDuration=t)},t.prototype.createToast=function(t,e){var u=this,o=this.toastsList.getValue(),n=this.validateParams(t),c=new a(n,e);o.push(c),this.maxMessageId++,this.toastsList.next(o);var p=c.ConfirmationResult$.subscribe(function(){var t,e,o=u.toastsList.getValue();try{for(var n=function a(t){var e="function"==typeof Symbol&&t[Symbol.iterator],o=0;return e?e.call(t):{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}}}(o.entries()),r=n.next();!r.done;r=n.next()){var s=f(r.value,2),i=s[0];if(s[1].Id===c.Id){o.splice(i,1);break}}}catch(l){t={error:l}}finally{try{r&&!r.done&&(e=n["return"])&&e.call(n)}finally{if(t)throw t.error}}u.toastsList.next(o),p.unsubscribe()});return c},t.prototype.validateParams=function(t){var e=t;try{e.title=this.validateTitle(e.title)}catch(o){e.title=this.DefaultTitle}try{e.text=this.validateText(e.text)}catch(o){e.text=this.DefaultText}try{e.duration=this.validateDuration(e.duration)}catch(o){e.duration=this.DefaultDuration}return e},t.prototype.validateTitle=function(t){if(!t||"string"!=typeof t)throw new Error("Tost default title must be a string with length");return t},t.prototype.validateText=function(t){if(!t||"string"!=typeof t)throw new Error("Tost default text must be a string with length");return t},t.prototype.validateDuration=function(t){var e=+t;if(isNaN(e))throw new Error("Tost duration must be a number");if(e<this.minDuration)throw new Error("Tost duration must be more than "+this.minDuration+" milliseconds");return e},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[]},t}(),u=function(){function t(t){this.toastsService=t,this.Placement={position:"topRight"},this.Width="250px",this.Classes="",this.defaultMargin="15px",this.MarginAsString="",this.toastsList=[]}return t.prototype.ngOnInit=function(){var e=this;this.messagesListSubscription=this.toastsService.ToastsList$.subscribe(function(t){e.toastsList=t}),this.initParams()},t.prototype.ngOnDestroy=function(){this.messagesListSubscription&&this.messagesListSubscription.unsubscribe()},t.prototype.initParams=function(){this.Placement||(this.Placement={}),this.Placement.marginTop=this.Placement.marginTop||this.defaultMargin,this.Placement.marginBottom=this.Placement.marginBottom||this.defaultMargin,this.Placement.marginLeft=this.Placement.marginLeft||this.defaultMargin,this.Placement.marginRight=this.Placement.marginRight||this.defaultMargin,this.Placement.position=this.Placement.position||"topRight"},t.decorators=[{type:r.Component,args:[{selector:"Angular-Bootstrap-Toasts-Container",template:"<div\r\n    class=\"Advanced-Bootstrap-Container {{ Classes || '' }}\"\r\n    [style.width]=\"Width\"\r\n    [style.left]=\"(Placement.position === 'topLeft'      || Placement.position === 'bottomLeft')  ? Placement.marginLeft : ''\"\r\n    [style.right]=\"(Placement.position === 'topRight'    || Placement.position === 'bottomRight') ? Placement.marginRight : ''\"\r\n    [style.top]=\"(Placement.position === 'topLeft'       || Placement.position === 'topRight')    ? Placement.marginTop : ''\"\r\n    [style.bottom]=\"(Placement.position === 'bottomLeft' || Placement.position === 'bottomRight') ? Placement.marginBottom : ''\">\r\n    \r\n    <Toast-Message\r\n        *ngFor=\"let toast of toastsList\"\r\n        class=\"Toast-Message-Container\"\r\n        [@enterAnimation]\r\n        [Toast]=\"toast\"></Toast-Message>\r\n\r\n</div>",animations:[e.trigger("enterAnimation",[e.transition(":enter",[e.style({transform:"translateX(100%)",opacity:0}),e.animate("350ms ease",e.style({transform:"translateX(0)",opacity:1}))]),e.transition(":leave",[e.style({transform:"translateX(0)",opacity:1}),e.animate("300ms ease",e.style({transform:"scale(0.1)",opacity:0}))])])],styles:[".Advanced-Bootstrap-Container{position:fixed;z-index:9999!important}"]}]}],t.ctorParameters=function(){return[{type:l}]},t.propDecorators={Placement:[{type:r.Input}],Width:[{type:r.Input}],Classes:[{type:r.Input}]},t}(),c=function(){function t(t){this.toastsService=t,this.progressLineWidth="100%",this.msInterval=10,this.isMouseFocused=!1}return t.prototype.ngOnInit=function(){var t=this;this.currentDuration=this.Toast.Duration,this.durationTimer=i.interval(this.msInterval).pipe(s.filter(function(){return!t.isMouseFocused}),s.tap(function(){t.currentDuration-=t.msInterval,t.Toast.IsProgressLineEnabled&&(t.progressLineWidth=(100/t.Toast.Duration*t.currentDuration).toFixed(0)+"%"),t.currentDuration<=0&&t.Toast.Close()})).subscribe()},t.prototype.ngOnDestroy=function(){this.durationTimer&&this.durationTimer.unsubscribe()},t.prototype.animationPause=function(){this.isMouseFocused=!0},t.prototype.animationPlay=function(){this.isMouseFocused=!1},t.prototype.onClick=function(){this.Toast.IsClosableByMouseClick&&this.Toast.Close(!1)},t.prototype.remove=function(t){this.Toast.Close(t||!1)},t.decorators=[{type:r.Component,args:[{selector:"Toast-Message",template:'<div\r\n    class="_toast {{ Toast.ToastClass || \'\' }}"\r\n    (mouseover)="animationPause()"\r\n    (mouseout)="animationPlay()"\r\n    (click)="onClick()">\r\n    <div class="_toast-header {{ Toast.TitleClass || \'\' }}">\r\n        <i\r\n            *ngIf="Toast.IconClass"\r\n            class="{{ Toast.IconClass }}"></i>\r\n\r\n        <strong\r\n            class="mr-auto">{{ Toast.Title }}</strong>\r\n\r\n        <small *ngIf="Toast.Moment">{{ Toast.Moment }}</small>\r\n\r\n        <button\r\n            type="button"\r\n            class="_close {{ Toast.CloseButtonClass || \'\' }}"\r\n            (click)="remove()">\r\n            <span aria-hidden="true">&times;</span>\r\n        </button>\r\n    </div>\r\n\r\n    <div\r\n        *ngIf="Toast.IsProgressLineEnabled"\r\n        class="_duration-line {{ Toast.ProgressLineClass || \'\' }}"\r\n        [style.width]="progressLineWidth"></div>\r\n\r\n    <div\r\n        class="_toast-body {{ Toast.BodyClass || \'\' }}"\r\n        [innerHTML]="Toast.Text"></div>\r\n\r\n    <div\r\n        *ngIf="Toast.Type === \'confirm\' && Toast.ToolbarItems"\r\n        class="_toast-toolbar {{ Toast.ToolbarClass || \'\' }}">\r\n        <button\r\n            *ngIf="Toast.ToolbarItems.actionButton.visible"\r\n            class="_toast-toolbar_actionButton {{ Toast.ToolbarItems.actionButton.class || \'btn btn-success btn-sm\' }}"\r\n            (click)="remove(true)">{{ Toast.ToolbarItems.actionButton.text || \'Confirm\' }}</button>\r\n\r\n        <button\r\n            *ngIf="Toast.ToolbarItems.cancelButton.visible"\r\n            class="_toast-toolbar_cancelButton {{ Toast.ToolbarItems.cancelButton.class || \'btn btn-light btn-sm\' }}"\r\n            (click)="remove(false)">{{ Toast.ToolbarItems.cancelButton.text || \'Cancel\' }}</button>\r\n    </div>\r\n</div>',styles:[":host{display:block}._toast{width:100%;margin-bottom:10px;border:1px solid #dadada;background:#fff;box-shadow:0 7px 9px -4px rgba(0,0,0,.2),0 14px 21px 2px rgba(0,0,0,.14),0 5px 26px 4px rgba(0,0,0,.12)}._toast-header{width:100%;display:flex;align-items:center;padding:8px;border-bottom:1px solid #dfe0e1;background:#f5f5f5;color:#6c757d}._duration-line{height:3px;background:rgba(0,0,0,.25);transition:.1s}._toast-body{font-size:12px;padding:12px;background:#fff}._toast-header i{margin-right:7px}._toast-header strong{font-size:16px}._toast-header small{font-size:11px;color:#6c757d}._toast-toolbar{margin:10px}._toast-toolbar_actionButton{margin-right:8px}button._close{padding:0;margin-left:.5rem;margin-bottom:.25rem;float:right;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:0;font-size:1.5rem;font-weight:700;line-height:1;color:#000;opacity:.6}button._close:hover{cursor:pointer;opacity:.8}"]}]}],t.ctorParameters=function(){return[{type:l}]},t.propDecorators={Toast:[{type:r.Input}]},t}(),p=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{declarations:[u,c],imports:[o.BrowserModule,n.BrowserAnimationsModule],exports:[u],providers:[l]}]}],t}();t.AngularBootstrapToastsService=l,t.ToastsContainerComponent=u,t.AngularBootstrapToastsModule=p,t.ɵa=c,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=angular-bootstrap-toasts.umd.min.js.map